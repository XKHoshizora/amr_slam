<launch>
    <!-- 启动 Cartographer -->
    <node name="cartographer_node" pkg="cartographer_ros" type="cartographer_node" output="screen">
        <param name="configuration_directory" value="$(find amr_slam)/config"/>
        <param name="configuration_basename" value="my_robot.lua"/>
        <remap from="scan" to="/rplidar_scan"/>
        <!-- 激光雷达话题 -->
        <remap from="imu" to="/imu/data"/>
        <!-- IMU 数据话题 -->
        <remap from="odom" to="/odom"/>
        <!-- 里程计数据话题 -->
    </node>

    <!-- 启动 Occupancy Grid 地图服务 -->
    <node name="occupancy_grid_node" pkg="cartographer_ros" type="occupancy_grid_node" output="screen">
        <param name="resolution" value="0.05"/>
    </node>

    <!-- 启动 RPLiDAR S2 驱动 -->
    <include file="$(find rplidar_ros)/launch/rplidar_s2.launch"/>

    <!-- 启动 IMU 驱动 -->
    <node name="imu_driver" pkg="imu_pkg" type="imu_node" output="screen"/>

    <!-- 启动里程计节点 -->
    <node name="odometry_node" pkg="amr_odometry" type="odometry_node" output="screen"/>
</launch>